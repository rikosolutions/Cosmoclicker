import React, { useState, useEffect } from "react";
import { motion, AnimatePresence } from "framer-motion";

// Example SVG components (replace with actual SVG paths or components)
const SuccessIcon = () => (
  <svg
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
    className="w-7 h-7 fill-[#0FF378]"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M24.6636 6.20998C25.0568 6.5894 25.0679 7.21568 24.6885 7.60882L11.3864 21.3921C11.2 21.5853 10.943 21.6944 10.6746 21.6944C10.4061 21.6944 10.1491 21.5853 9.96271 21.3921L3.31168 14.5004C2.93226 14.1073 2.94339 13.481 3.33653 13.1016C3.72967 12.7222 4.35595 12.7333 4.73537 13.1265L10.6746 19.2805L23.2648 6.23483C23.6442 5.84169 24.2705 5.83056 24.6636 6.20998Z"
      fill=""
    />
  </svg>
);
const InfoIcon = () => (
  <svg
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="w-7 h-7 fill-[#FFD541]"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M14 23.2C19.081 23.2 23.2 19.081 23.2 14C23.2 8.91898 19.081 4.8 14 4.8C8.91898 4.8 4.8 8.91898 4.8 14C4.8 19.081 8.91898 23.2 14 23.2ZM14 25C20.0751 25 25 20.0751 25 14C25 7.92487 20.0751 3 14 3C7.92487 3 3 7.92487 3 14C3 20.0751 7.92487 25 14 25Z"
      fill=""
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M14 8.1C14.4971 8.1 14.9 8.50294 14.9 9V14.5C14.9 14.9971 14.4971 15.4 14 15.4C13.5029 15.4 13.1 14.9971 13.1 14.5V9C13.1 8.50294 13.5029 8.1 14 8.1Z"
      fill=""
    />
    <path
      d="M15.25 18.75C15.25 19.4404 14.6904 20 14 20C13.3096 20 12.75 19.4404 12.75 18.75C12.75 18.0596 13.3096 17.5 14 17.5C14.6904 17.5 15.25 18.0596 15.25 18.75Z"
      fill=""
    />
  </svg>
);
const WarningIcon = () => (
  <svg
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="w-7 h-7 fill-[#FFD541]"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M22.7951 5.83193C22.3907 5.17272 21.6652 4.82508 20.9375 4.91368C20.7664 4.93451 20.4724 5.04779 19.8999 5.45477C19.3414 5.85182 18.6353 6.43912 17.6406 7.26762L16.4789 8.2352V16.5191L17.8559 17.4895C18.8256 18.173 19.5101 18.6546 20.0502 18.9758C20.5996 19.3025 20.8815 19.388 21.0517 19.3981C21.7562 19.4401 22.4384 19.0783 22.8157 18.4351C22.9113 18.2721 23.0028 17.9722 23.0515 17.3196C23.0994 16.6772 23.1 15.8217 23.1 14.6135V9.97857C23.1 8.6629 23.0994 7.72673 23.0477 7.02808C22.9949 6.3134 22.8949 5.99464 22.7951 5.83193ZM14.6789 16.0859V8.71354H8.2566C7.58283 8.71354 7.12386 8.71405 6.76692 8.7391C6.41859 8.76355 6.23493 8.80815 6.10454 8.8637C5.63366 9.06432 5.25174 9.45274 5.05086 9.95156C4.99339 10.0943 4.94909 10.2915 4.92503 10.6543C4.90046 11.0246 4.9 11.4998 4.9 12.1917V13.7377C4.9 14.0623 4.90084 14.1674 4.90779 14.2479C4.99348 15.2399 5.75162 15.9944 6.66851 16.0781C6.74266 16.0849 6.84072 16.0859 7.15789 16.0859H14.6789ZM15.2532 6.91354L16.5194 5.85888C17.4764 5.06174 18.2354 4.42957 18.857 3.98768C19.4713 3.55099 20.0763 3.20524 20.72 3.12688C22.1648 2.95098 23.5663 3.64683 24.3294 4.89073C24.6673 5.44169 24.7862 6.13036 24.8428 6.89529C24.9 7.6684 24.9 8.67147 24.9 9.93985V14.6518C24.9 15.8132 24.9 16.736 24.8465 17.4535C24.7932 18.1686 24.6807 18.8133 24.3683 19.3459C23.6576 20.5575 22.3427 21.2782 20.9447 21.195C20.3265 21.1581 19.7354 20.8828 19.1302 20.5229C18.5228 20.1617 17.7813 19.6391 16.8514 18.9838L15.2937 17.8859H14.9V21.356C14.9 23.2892 13.3699 24.9 11.4295 24.9C10.7733 24.9 10.1171 24.7117 9.55572 24.3307C8.30868 23.4842 7.40321 22.7153 6.87463 21.5313C6.44229 20.5629 6.29923 19.3942 6.26613 17.8411C4.56172 17.5732 3.26507 16.1463 3.11447 14.4028C3.09993 14.2344 3.09996 14.0449 3.1 13.7804C3.1 13.7664 3.1 13.7522 3.1 13.7377L3.1 12.1613C3.09999 11.5072 3.09999 10.9721 3.12897 10.5351C3.15892 10.0838 3.22261 9.67287 3.38116 9.27916C3.75631 8.34761 4.47925 7.5996 5.39902 7.20773C5.79013 7.0411 6.19777 6.97462 6.64091 6.94352C7.06834 6.91352 7.59071 6.91353 8.22479 6.91354L15.2532 6.91354ZM8.0681 17.8859C8.10399 19.3237 8.23772 20.1691 8.51826 20.7975C8.8326 21.5016 9.37877 22.0351 10.5666 22.8414C10.815 23.01 11.1155 23.1 11.4295 23.1C12.3284 23.1 13.1 22.3433 13.1 21.356V17.8859H8.0681Z"
      fill=""
    />
  </svg>
);
const ErrorIcon = () => (
  <svg
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="w-7 h-7 fill-[#E53935]"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M5.30555 5.23135C5.69348 4.83825 6.32663 4.83405 6.71973 5.22198L14.0019 12.4082L21.284 5.22198C21.6771 4.83405 22.3103 4.83825 22.6982 5.23135C23.0861 5.62445 23.0819 6.2576 22.6888 6.64553L15.4256 13.8132L22.6888 20.9808C23.0819 21.3687 23.0861 22.0019 22.6982 22.395C22.3103 22.7881 21.6771 22.7923 21.284 22.4044L14.0019 15.2181L6.71973 22.4044C6.32663 22.7923 5.69348 22.7881 5.30555 22.395C4.91762 22.0019 4.92182 21.3687 5.31492 20.9808L12.5782 13.8132L5.31492 6.64553C4.92182 6.2576 4.91762 5.62445 5.30555 5.23135Z"
      fill=""
    />
  </svg>
);
// Mapping of variants to SVG icons and styles
const iconMap = {
  success: SuccessIcon,
  info: InfoIcon,
  warning: WarningIcon,
  error: ErrorIcon,
};

export const Toast = ({
  id,
  variant = "info",
  label,
  description,
  onClose,
}) => {
  useEffect(() => {
    const timer = setTimeout(() => onClose(id), 2000);
    return () => clearTimeout(timer);
  }, [id, onClose]);
  const IconComponent = iconMap[variant];

  return (
    <AnimatePresence mode="wait">
      <motion.div
        className={`rounded-lg  w-full px-3 flex items-center justify-center absolute z-50 mt-1`}
        initial={{ x: "100%" }}
        animate={{ x: 0 }}
        exit={{ x: "100%", opacity: 0 }} // Slide out to the right and fade out
        drag="x"
        dragConstraints={{ left: 0, right: 0 }}
        onDragEnd={(event, info) => {
          if (Math.abs(info.offset.x) > 100) {
            onClose(id);
          }
        }}
      >
        <div className="bg-[#383838]/85 backdrop-blur-md  w-full h-full  px-3 py-4 flex flex-row items-center justify-start gap-3 rounded-xl ">
          <div className="h-7 w-7">
            <IconComponent className="h-7 w-7" />
          </div>
          <div className=" flex flex-col items-start justify-center">
            <div className="font-semibold text-white font-helvetica text-sm">
              {label}
            </div>
            <div className="text-sm font-light text-white font-helvetica">
              {description}
            </div>
          </div>
        </div>
      </motion.div>
    </AnimatePresence>
  );
};